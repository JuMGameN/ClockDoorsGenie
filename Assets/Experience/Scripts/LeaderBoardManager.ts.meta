fileFormatVersion: 2
guid: b0b9c3b330de0422ba3587c404109846
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: 11500000, guid: 22604dd76f55453daccee3ed9e7b94b5, type: 3}
  SerializedAsset: '{"IsCompiled":true,"CompilerVersion":"2.0.63","ReferencedSpecifiers":["@assets/Experience/Scripts/LeaderboardView","@assets/Experience/Scripts/GameManager","@assets/Experience/Scripts/ScoreManager"],"Source":"\"use
    strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst
    UnityEngine_1 = require(\"UnityEngine\");\nconst Genies_Leaderboard_1 = require(\"Genies.Leaderboard\");\nconst
    Genies_SDKServices_Model_LeaderboardSubmitUserScoreRequest_1 = require(\"Genies.SDKServices.Model.LeaderboardSubmitUserScoreRequest\");\nconst
    GameManager_1 = require(\"@assets/Experience/Scripts/GameManager\");\nconst ScoreManager_1
    = require(\"@assets/Experience/Scripts/ScoreManager\");\nclass LeaderboardManager
    extends UnityEngine_1.MonoBehaviour {\n    async Awake() {\n        const leaderboard
    = // @ts-ignore\n         this.leaderboard.GetComponent(\"@assets/Experience/Scripts/LeaderboardView.LeaderboardView\");\n       
    //   this.showButton.gameObject.SetActive(false);\n        // this.hideButton.gameObject.SetActive(false);\n       
    this.incrementScore.gameObject.SetActive(false);\n        //  this.showButton.onClick.RemoveAllListeners();\n       
    // this.hideButton.onClick.RemoveAllListeners();\n        this.incrementScore.onClick.RemoveAllListeners();\n       
    //   this.showButton.onClick.AddListener(() => leaderboard.Show());\n       
    this.hideButton.onClick.AddListener(() => leaderboard.Hide());\n        this.incrementScore.onClick.AddListener(()
    => this.IncrementScore(leaderboard));\n        //   this.showButton.gameObject.SetActive(true);\n       
    //   this.hideButton.gameObject.SetActive(true);\n        this.incrementScore.gameObject.SetActive(true);\n       
    leaderboard.SetDataAndInitialize(this.leaderboardId);\n    }\n    Start() {\n       
    GameManager_1.default.Instance.OnWinGame.addListener(() => this.saveScoreToLeaderboard());\n   
    }\n    async saveScoreToLeaderboard() {\n        console.log(\"saveScoreToLeaderboard\");\n       
    let currentScore = ScoreManager_1.default.Instance.getScore();\n        $promise(Genies_Leaderboard_1.GeniesLeaderboardSdk.SubmitCurrentUserScoreAsync(this.leaderboardId,
    currentScore, Genies_SDKServices_Model_LeaderboardSubmitUserScoreRequest_1.TypeEnum.DIRECT));\n   
    }\n    async IncrementScore(leaderboard) {\n        let currentScore = await
    $promise(Genies_Leaderboard_1.GeniesLeaderboardSdk.GetCurrentUserRankAsync(this.leaderboardId));\n       
    if (currentScore != null) {\n            $promise(Genies_Leaderboard_1.GeniesLeaderboardSdk.SubmitCurrentUserScoreAsync(this.leaderboardId,
    currentScore.GameScore + 20, Genies_SDKServices_Model_LeaderboardSubmitUserScoreRequest_1.TypeEnum.DIRECT));\n       
    }\n        else {\n            $promise(Genies_Leaderboard_1.GeniesLeaderboardSdk.SubmitCurrentUserScoreAsync(this.leaderboardId,
    20, Genies_SDKServices_Model_LeaderboardSubmitUserScoreRequest_1.TypeEnum.DIRECT));\n       
    }\n        leaderboard.SetDataAndInitialize(this.leaderboardId);\n    }\n}\nexports.default
    = LeaderboardManager;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTGVhZGVyQm9hcmRNYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiI7O0FBQUEsNkNBQXVEO0FBRXZELDJEQUF5RDtBQUN6RCwySUFBcUY7QUFJckYsd0VBQXVDO0FBQ3ZDLDBFQUF5QztBQUV6QyxNQUFxQixrQkFBbUIsU0FBUSwyQkFBYTtJQU9qRCxLQUFLLENBQUMsS0FBSztRQUVmLE1BQU0sV0FBVyxHQUFFO1NBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxZQUFXLDZEQUFnQixDQUFJO1FBRXBFLGlEQUFnRDtRQUNoRCwrQ0FBOEM7UUFDOUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQztRQUUvQyxpREFBZ0Q7UUFDaEQsZ0RBQStDO1FBQy9DLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLGtCQUFrQixFQUFFO1FBRWhELG1FQUFrRTtRQUNsRSxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDO1FBQzdELElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBRy9FLGdEQUErQztRQUMvQyxnREFBK0M7UUFDL0MsSUFBSSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQztRQUU5QyxXQUFXLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUV4RDtJQUVRLEtBQUs7UUFDVCxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO0lBQ25GO0lBRVEsS0FBSyxDQUFDLHNCQUFzQjtRQUNoQyxPQUFPLENBQUMsR0FBRyxDQUFDLHdCQUF3QixDQUFDO1FBQ3JDLElBQUksWUFBWSxHQUFHLHNCQUFZLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRTtRQUNwRCxTQUFDLHlDQUFvQixDQUFDLDJCQUEyQixDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsWUFBWSxFQUFFLHFFQUFRLENBQUMsTUFBSyxDQUFDLENBQUM7SUFFdkc7SUFFUSxLQUFLLENBQUMsY0FBYyxDQUFDLFdBQTRCO1FBQ3JELElBQUksWUFBWSxHQUFHLE1BQUssU0FBQyx5Q0FBb0IsQ0FBQyx1QkFBdUIsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFDO1FBQ3pGLElBQUksWUFBWSxJQUFJLElBQUksRUFBRTtZQUN2QixTQUFDLHlDQUFvQixDQUFDLDJCQUEyQixDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsWUFBWSxDQUFDLFNBQVMsR0FBRyxFQUFFLEVBQUUscUVBQVEsQ0FBQyxNQUFNLEVBQUM7UUFDdEg7YUFDSztZQUNGLFNBQUMseUNBQW9CLENBQUMsMkJBQTJCLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxFQUFFLEVBQUUscUVBQVEsQ0FBQyxNQUFLLENBQUMsQ0FBQztRQUM3RjtRQUNBLFdBQVcsQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDO0lBQ3hEO0NBQ0o7QUFyREEscUNBcURBIiwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlcyI6WyJMZWFkZXJCb2FyZE1hbmFnZXIudHMiXSwic291cmNlc0NvbnRlbnQiOltudWxsXX0=","ScriptHash":"0ef46aed04db5b503b711e9a7b3eca2d","Specifier":"@assets/Experience/Scripts/LeaderBoardManager","DefaultTypeName":"@assets/Experience/Scripts/LeaderBoardManager.LeaderboardManager","IsMonobehaviour":true,"IsScriptableObj":false,"InheritanceChain":["@assets/Experience/Scripts/LeaderBoardManager.LeaderboardManager","UnityEngine.MonoBehaviour","UnityEngine.Behaviour","UnityEngine.Component","UnityEngine.Object","@com.genies.scripting@1.11.0\\Runtime\\Typing\\index.d.System.Object"],"Properties":[{"Path":"leaderboard","Name":"leaderboard","TypeName":"UnityEngine.GameObject","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Leaderboard","_arrayElementInitializerJson":null,"_childPropertiesJson":"[]","_prettyName":null},{"Path":"showButton","Name":"showButton","TypeName":"UnityEngine.UI.Button","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Show
    Button","_arrayElementInitializerJson":null,"_childPropertiesJson":"[]","_prettyName":null},{"Path":"hideButton","Name":"hideButton","TypeName":"UnityEngine.UI.Button","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Hide
    Button","_arrayElementInitializerJson":null,"_childPropertiesJson":"[]","_prettyName":null},{"Path":"incrementScore","Name":"incrementScore","TypeName":"UnityEngine.UI.Button","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Increment
    Score","_arrayElementInitializerJson":null,"_childPropertiesJson":"[]","_prettyName":null},{"Path":"leaderboardId","Name":"leaderboardId","TypeName":"System.String","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Leaderboard
    Id","_arrayElementInitializerJson":null,"_childPropertiesJson":"[]","_prettyName":null}],"SupportedUiEvents":"None","DisplayName":"LeaderboardManager","name":"LeaderBoardManager","hideFlags":"NotEditable"}'
